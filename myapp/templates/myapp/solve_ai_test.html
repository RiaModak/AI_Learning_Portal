{% extends 'myapp/base.html' %}
{% block content %}
<div class="container mt-4">
    <h3>Solve AI-Generated Test</h3>
    <form method="post">
        {% csrf_token %}
        {% for q in questions %}
            <div class="mb-4">
                <p><strong>Q{{ forloop.counter }}:</strong> {{ q.question }}</p>

                {% if q.type == 'mcq' %}
                    <div>
                        <label><input type="radio" name="q_{{ forloop.counter0 }}" value="a"> {{ q.choices.a }}</label><br>
                        <label><input type="radio" name="q_{{ forloop.counter0 }}" value="b"> {{ q.choices.b }}</label><br>
                        <label><input type="radio" name="q_{{ forloop.counter0 }}" value="c"> {{ q.choices.c }}</label><br>
                        <label><input type="radio" name="q_{{ forloop.counter0 }}" value="d"> {{ q.choices.d }}</label>
                    </div>
                {% else %}
                    <textarea name="q_{{ forloop.counter0 }}" class="form-control" rows="3" required></textarea>
                {% endif %}
            </div>
        {% endfor %}
        <button type="submit" class="btn btn-success">Submit Test</button>
    </form>
</div>
{% endblock %}
